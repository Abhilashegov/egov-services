  swagger: '2.0'
  # eGSP YAML Template Version: 1.0 
  # This is a version number for the YAML template. This must not be changed.
  
  info:
    version: 1.0.0
    title: PGR Master APIs
    description: |
      APIs available for PGR Masters and mapping between two masters
        - Create, Update and Search for GrievanceCategoryType
        - Create, Update and Search for GrievanceType
        - Create, Update and Search for ReceivingModeType
        - Create, Update and Search for ReceivingCenterType
        - Create, Update and Search for GrievanceCategoryTypeGrievanceType mapping
        - Create, Update and Search for RouterType (GrievanceTypeBoundaryTypePositionType) mapping
        - Create, Update and Search for EscalationTimeType (GrievanceTypeDesignationTypeTime) mapping
        - Create, Update and Search for EscalationType (PositionTypeGrievanceType) mapping
        - Search for BoundaryType

    contact:
      name: KD
      email: kumar.deepak@tarento.com
  host: phoenix-qa.egovernments.org
  schemes:
    - https
  basePath: '/v1/egov-pgr-masters/[API endpoint]'
  
  paths:
    /grievancecategorytype/_create:
      post:
        summary: creates different types of categories under which grievance can be defined.
        description: allowed category type
        tags:
          - GrievanceCategoryType
        parameters:
          - name: CategoryType
            in: body
            description: required parameters have to be populated
            required: true
            schema:
              $ref: '#/definitions/CategoryTypeReq'
        responses:
          '201':
            description: Request acknowledged sucessfully
            schema:
              $ref: "#/definitions/CategoryTypeRes"
          '400':
            description: Request failed
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
          '404':
            description: tenantId provided was not found
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'

    /grievancecategorytype/_update:
      post:
        summary: updates existing values
        description: updates existing values
        tags:
          - CategoryType
        parameters:
          - name: CategoryType
            in: body
            description: required parameters have to be populated
            required: true
            schema:
              $ref: '#/definitions/CategoryTypeReq'
        responses:
          '200':
            description: Request acknowledged sucessfully
            schema:
              $ref: "#/definitions/CategoryTypeRes"
          '400':
            description: Request failed
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
          '404':
            description: tenantId provided was not found
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'

    /grievancecategorytype/_search:
      post:
        summary: searches existing values
        tags:
          - CategoryType
        parameters:
          - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/requestInfo"
          - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/tenantId"
          - $ref: "#/parameters/id"
          - $ref: "#/parameters/code"
          - $ref: "#/parameters/name"
        responses:
          200: 
            description: Successful response
            schema:
              $ref: '#/definitions/CategoryTypeRes'
          400:
            description: Invalid input
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
  # grievancetype Type API
    /grievancetype/_create:
      post:
        summary: creates different types of grievance type
        description: grievance type
        tags:
          - GrievanceCategoryType
        parameters:
          - name: CategoryType
            in: body
            description: required parameters have to be populated
            required: true
            schema:
              $ref: '#/definitions/GrievanceTypeReq'
        responses:
          '201':
            description: Request acknowledged sucessfully
            schema:
              $ref: "#/definitions/GrievanceTypeRes"
          '400':
            description: Request failed
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
          '404':
            description: tenantId provided was not found
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
    
    /grievancetype/_update:
      post:
        summary: creates different types of grievance type
        description: grievance type
        tags:
          - GrievanceCategoryType
        parameters:
          - name: CategoryType
            in: body
            description: required parameters have to be populated
            required: true
            schema:
              $ref: '#/definitions/GrievanceTypeReq'
        responses:
          '201':
            description: Request acknowledged sucessfully
            schema:
              $ref: "#/definitions/GrievanceTypeRes"
          '400':
            description: Request failed
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
          '404':
            description: tenantId provided was not found
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'          

    /grievancetype/_search:
      post:
        summary: searches existing values
        tags:
          - GrievanceType
        parameters:
          - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/requestInfo"
          - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/tenantId"
          - $ref: "#/parameters/id"
          - $ref: "#/parameters/code"
          - $ref: "#/parameters/name"
        responses:
          200: 
            description: Successful response
            schema:
              $ref: '#/definitions/GrievanceTypeRes'
          400:
            description: Invalid input
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
  #Category Grievance Mapping
    /grievancetypecategorytype/_create:
      post:
        summary: updates existing values
        description: updates existing values
        tags:
          - CategoryType
        parameters:
          - name: CategoryType
            in: body
            description: required parameters have to be populated
            required: true
            schema:
              $ref: '#/definitions/GrievanceTypeCategoryTypeReq'
        responses:
          '200':
            description: Request acknowledged sucessfully
            schema:
              $ref: "#/definitions/GrievanceTypeCategoryTypeRes"
          '400':
            description: Request failed
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
          '404':
            description: tenantId provided was not found
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
    
    /grievancetypecategorytype/_update:
      post:
        summary: updates existing values
        description: updates existing values
        tags:
          - CategoryGrievanceType
        parameters:
          - name: CategoryGrievanceType
            in: body
            description: required parameters have to be populated
            required: true
            schema:
              $ref: '#/definitions/GrievanceTypeCategoryTypeReq'
        responses:
          '200':
            description: Request acknowledged sucessfully
            schema:
              $ref: "#/definitions/GrievanceTypeCategoryTypeRes"
          '400':
            description: Request failed
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
          '404':
            description: tenantId provided was not found
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'         
    
    /grievancetypecategorytype/_search:
      post:
        summary: searches existing values
        tags:
          - GrievanceType
        parameters:
          - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/requestInfo"
          - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/tenantId"
          - $ref: "#/parameters/id"
          - $ref: "#/parameters/categoryid"
          - $ref: "#/parameters/grievanceid"
        responses:
          200: 
            description: Successful response
            schema:
              $ref: '#/definitions/GrievanceTypeCategoryTypeRes'
          400:
            description: Invalid input
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
   # receiving mode API
    /receivingmode/_create:
      post:
        summary: creates receiving mode
        description: receiving mode
        tags:
          - receiving mode
        parameters:
          - name: Receiving Mode
            in: body
            description: required parameters have to be populated
            required: true
            schema:
              $ref: '#/definitions/ReceivingModeTypeReq'
        responses:
          '201':
            description: Request acknowledged sucessfully
            schema:
              $ref: "#/definitions/ReceivingModeTypeRes"
          '400':
            description: Request failed
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
          '404':
            description: tenantId provided was not found
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
    
    /receivingmode/_update:
      post:
        summary: update receiving mode
        description: receiving node
        tags:
          - Receiving Mode
        parameters:
          - name: Receiving Mode
            in: body
            description: required parameters have to be populated
            required: true
            schema:
              $ref: '#/definitions/ReceivingModeTypeReq'
        responses:
          '201':
            description: Request acknowledged sucessfully
            schema:
              $ref: "#/definitions/ReceivingModeTypeRes"
          '400':
            description: Request failed
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
          '404':
            description: tenantId provided was not found
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'          

    /receivingmode/_search:
      post:
        summary: searches existing values
        tags:
          - Receiving Mode
        parameters:
          - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/requestInfo"
          - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/tenantId"
          - $ref: "#/parameters/id"
          - $ref: "#/parameters/code"
          - $ref: "#/parameters/name"
        responses:
          200: 
            description: Successful response
            schema:
              $ref: '#/definitions/ReceivingModeTypeRes'
          400:
            description: Invalid input
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
   
    # receiving center API
    /receivingcenter/_create:
      post:
        summary: creates receiving center
        description: receiving center
        tags:
          - receiving center
        parameters:
          - name: Receiving Center
            in: body
            description: required parameters have to be populated
            required: true
            schema:
              $ref: '#/definitions/ReceivingCenterTypeReq'
        responses:
          '201':
            description: Request acknowledged sucessfully
            schema:
              $ref: "#/definitions/ReceivingCenterTypeRes"
          '400':
            description: Request failed
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
          '404':
            description: tenantId provided was not found
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
   # receiving center API
    /receivingcenter/_update:
      post:
        summary: creates receiving center
        description: receiving center
        tags:
          - receiving center
        parameters:
          - name: Receiving Center
            in: body
            description: required parameters have to be populated
            required: true
            schema:
              $ref: '#/definitions/ReceivingCenterTypeReq'
        responses:
          '201':
            description: Request acknowledged sucessfully
            schema:
              $ref: "#/definitions/ReceivingCenterTypeRes"
          '400':
            description: Request failed
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
          '404':
            description: tenantId provided was not found
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
              
    /receivingcenter/_search:
      post:
        summary: searches existing values
        tags:
          - Receiving Mode
        parameters:
          - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/requestInfo"
          - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/tenantId"
          - $ref: "#/parameters/id"
          - $ref: "#/parameters/code"
          - $ref: "#/parameters/name"
        responses:
          200: 
            description: Successful response
            schema:
              $ref: '#/definitions/ReceivingCenterTypeRes'
          400:
            description: Invalid input
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
              
    /boundary/_search:
      post:
        summary: get the available boundaries
        tags:
          - Receiving Mode
        parameters:
          - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/requestInfo"
          - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/tenantId"
        responses:
          200: 
            description: Successful response
            schema:
              $ref: '#/definitions/BoundaryTypeRes'
          400:
            description: Invalid input
            schema:
              $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'         
            
   
  parameters:
    id:
      name: id
      in: query
      description: unique identifier of object
      required: false
      type: integer
      format: int64

    code:
      name: code
      in: query
      description: human reabable code
      required: false
      type: string
      minLength: 0
      maxLength: 64
      
    name:
      name: name
      in: query
      description: human reabable name
      required: false
      type: string
      minLength: 0
      maxLength: 100
    
    categoryid:
      name: categoryid
      in: query
      type: number
      description: fetch all the grievances belong to the category.
      
    grievanceid:
      name: grievanceid
      in: query
      type: number
      description: fetch category based on the grievance.  
  
  definitions:
    # Category Type definitions
    CategoryTypeReq:
      type: object
      properties:
        RequestInfo:
          $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/RequestInfo'
        category:
          $ref: '#/definitions/CategoryType'
      required:
        - RequestInfo
        - category
    
    CategoryTypeRes:
      type: object
      properties:
        ResponseInfo:
          $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ResponseInfo'
        CategoryTypes:
          type: array
          maximum: 20
          items:
            $ref: '#/definitions/CategoryType'
    
    CategoryType:
      type: object
      properties:
        id:
         type: integer
         format: int64
         description : Unique identifier of the entered type, typically defined by system.
        code:
          type: string
          description: unique code this can be assigned by user.
          maxLength: 64
        name: 
          type: string
          description: human readable name should be assigned by user.
          maxLength: 100
        description: 
          type: string
          description: human readable description should be assigned by user.
          maxLength: 100
        active:
          type: boolean
          format: varchar
          description: TRUE for active and FALSE for inactive.
        tenantId:
          type: string
          description: Unique Identifier of the tenant   
        auditDetails:
          $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/AuditDetails"
      required:
        - code
        - name
        - tenantId
        
    GrievanceTypeReq:
      type: object
      properties:
        RequestInfo:
          $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/RequestInfo'
        grievance:
          $ref: '#/definitions/GrievanceType'
      required:
        - RequestInfo
        - grievance
    
    GrievanceTypeRes:
      type: object
      properties:
        ResponseInfo:
          $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ResponseInfo'
        GrievanceTypes:
          type: array
          maximum: 20
          items:
            $ref: '#/definitions/GrievanceType'
            
    GrievanceType:
      type: object
      properties:
        id:
         type: integer
         format: int64
         description : Unique identifier of the entered type, typically defined by system.
        code:
          type: string
          description: unique code this can be assigned by user.
          maxLength: 64
        name: 
          type: string
          description: human readable name should be assigned by user.
          maxLength: 100
        description: 
          type: string
          description: human readable description should be assigned by user.
          maxLength: 100
        active:
          type: boolean
          format: varchar
          description: TRUE for active and FALSE for inactive.
        tenantId:
          type: string
          description: Unique Identifier of the tenant   
        category:
          type: integer
          description: identifier for the category 
        slahours:
          type: integer
          description: sla hours for the complaint type
        department:
          type: integer
          description: department of the complaint
        auditDetails:
          $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/AuditDetails"
      required:
        - code
        - name
        - tenantId
        
    #GrievanceTypeCategoryTypeReq Definitions
    GrievanceTypeCategoryTypeReq:
      type: object
      properties:
        RequestInfo:
          $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/RequestInfo'
        grievancetypecategorytype:
          type: array
          $ref: '#/definitions/GrievanceTypeCategoryType'
      required:
        - RequestInfo
        - grievancetypecategorytype
    
    GrievanceTypeCategoryTypeRes:
      type: object
      properties:
        ResponseInfo:
          $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ResponseInfo'
        GrievanceTypeCategoryType:
          type: array
          maximum: 20
          items:
            $ref: '#/definitions/GrievanceTypeCategoryType'
            
    GrievanceTypeCategoryType:
      type: object
      properties:
        id:
         type: integer
         format: int64
         description : Unique identifier of the entered type, typically defined by system.
        categoryid:
         type: integer
         format: int64
         description : Unique identifier of the entered type, typically defined by system.
        grievanceid:
         type: integer
         format: int64
         description : Unique identifier of the entered type, typically defined by system. 
        tenantId:
          type: string
          description: Unique Identifier of the tenant
        auditDetails:
          $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/AuditDetails"
      required:
        - id
        - categoryid
        - grievanceid
        - tenantId  
        
  #Receiving Code Definitions
    ReceivingModeTypeReq:
      type: object
      properties:
        RequestInfo:
          $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/RequestInfo'
        receivingmode:
          $ref: '#/definitions/ReceivingModeType'
      required:
        - RequestInfo
        - receivingmode
    
    ReceivingModeTypeRes:
      type: object
      properties:
        ResponseInfo:
          $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ResponseInfo'
        ReceivingModeTypes:
          type: array
          maximum: 20
          items:
            $ref: '#/definitions/ReceivingModeType'
            
    ReceivingModeType:
      type: object
      properties:
        id:
         type: integer
         format: int64
         description : Unique identifier of the entered type, typically defined by system.
        code:
          type: string
          description: unique code this can be assigned by user.
          maxLength: 64
        name: 
          type: string
          description: human readable name should be assigned by user.
          maxLength: 100
        description: 
          type: string
          description: human readable description should be assigned by user.
          maxLength: 100
        active:
          type: boolean
          format: varchar
          description: TRUE for active and FALSE for inactive.
        tenantId:
          type: string
          description: Unique Identifier of the tenant
        visible:
          type: boolean
          description: flag for visibility 
        auditDetails:
          $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/AuditDetails"
      required:
        - code
        - name
        - tenantId
        
  #Receiving Code Definitions
    ReceivingCenterTypeReq:
      type: object
      properties:
        RequestInfo:
          $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/RequestInfo'
        receivingcenter:
          $ref: '#/definitions/ReceivingCenterType'
      required:
        - RequestInfo
        - receivingcenter
    
    ReceivingCenterTypeRes:
      type: object
      properties:
        ResponseInfo:
          $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ResponseInfo'
        ReceivingCenterTypes:
          type: array
          maximum: 20
          items:
            $ref: '#/definitions/ReceivingCenterType'
            
    ReceivingCenterType:
      type: object
      properties:
        id:
         type: integer
         format: int64
         description : Unique identifier of the entered type, typically defined by system.
        code:
          type: string
          description: unique code this can be assigned by user.
          maxLength: 64
        name: 
          type: string
          description: human readable name should be assigned by user.
          maxLength: 100
        description: 
          type: string
          description: human readable description should be assigned by user.
          maxLength: 100
        iscrnrequired:
          type: boolean
          format: varchar
          description: TRUE for active and FALSE for inactive.
        orderno:
          type: integer
          format: int64
          description : will receive from request for sorting purpous.
        active:
          type: boolean
          format: varchar
          description: TRUE for active and FALSE for inactive.
        tenantId:
          type: string
          description: Unique Identifier of the tenant
        auditDetails:
          $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/AuditDetails"
      required:
        - name
        - tenantId  
        
        
    BoundaryTypeRes:
      type: string
      properties:
        ResponseInfo:
          $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ResponseInfo'
        BoundaryTypeRes:
          type: array
          maximum: 20
          
