swagger: '2.0'
# eGSP YAML Template Version: 1.0 

info:
  version: 1.0.0
  ######################################################
  # All API's are POST. _create,_search,_update for post,get and put. RequestInfo will be part of body. For multiple records we can pass multiple value with comman seperated values*.
  # All _search will be synchronous and all _create and _update will be asynchronous*.
  # RequestInfo and ResponseInfo object should be reffered from Common*.
  # In _search API, tenantId should be passed in query param. In _create/_update, tenantId should be passed in the model.
  # Readonly means that even if these fields are passed in the request, it will be ignored in create/update and will not be added/updated in the entities. The readonly fields might be passed to the _search API's to make use of fields for the search Query API. while calling _search API's even mandatory fields might not be available, it is mandatory only in the _create API's*.
  # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message.
  # Definition must start with Upper case followed by camel case.
  # Every model will have tenantId. Validate tenantId on create.
  # Parameter name must start with small case followed by camel case.
  # Path must be in small case.
  ######################################################
  
  title: eGov Demand APIs
  description: eGov Demand manages head wise demand and Demand Bill information for all the revenue modules from eGov solution. It manages
  
    * The demand data for a revenue module with category of tax for a defined *period, rebate, penalty, late payment interest, fee* etc and again head wise in each category. This module have one entity called Demand for every revenue entity which holds the list of category and head wise demands for a defined period in DemandDetail.
    
    * The Demand Bill data with period and head wise dues and its payment details.
  contact:
    name:  Ramakrishna (Ramki)
host: phoenix-qa.egovernments.org
schemes:
  - https
basePath: '/demand/v1'
x-common-path: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml'

paths:
  /demandreason/_search:
  ######################################################
  # Will be synchronous.
  # tenantId should be passed in query param.
  ######################################################
    post:
      summary: Search the demand reasons in the system based on the criterion specified.
      description: |
        Search and get demand reason(s) based on defined search criteria. Currently search parameters are only allowed as HTTP query params. In case multiple parameterts are passed demand reason will be searched as an AND combination of all the parameters. Maximum result size is restricted based on the maxlength of demand reasons as defined in DemandReasonResponse model.
        
        By default results will be sorted by UserName
      parameters:
        - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/requestInfo"
        - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/tenantId"
        - name: moduleName
          in: query
          description: Name of the module for which demand reasons to be returned.
          required: true
          type: string
        - name: taxCategory
          in: query
          description: Category of tax.
          required: false
          type: string
        - name: taxPeriod
          in: query
          description: Tax period
          required: false
          type: string
        - name: fromDate
          in: query
          description: From tax period, format is dd/MM/yyyy
          required: false
          type: string
          format: date
        - name: toDate
          in: query
          description: To tax period, format is dd/MM/yyyy
          required: false
          type: string
          format: date
        - name: installmentType
          in: query
          description: type of a installment period
          required: false
          type: string
      tags:
        - Master
      responses:
      ####################################################
      # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message
      ####################################################
        '200':
          description: returns a demand reasons.
          schema:
            $ref: '#/definitions/DemandReasonResponse'
        '400':
          description: Invalid input
          schema:
            $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
            
  /demandreason/_create:
  ######################################################
  # Will be asynchronous.
  # tenantId should be passed in the model.
  # Validate tenantId before persisting.
  ######################################################
    post:
      description: Creates a demand reason
      parameters:
        - name: demand
          in: body
          description: Request header for the demand reason.
          required: true
          schema:
            $ref: '#/definitions/DemandReasonRequest'
        - name: tenantId
          in: query
          description: Unique id for ulb.
          required: true
          type: string
          format: varchar
      tags:
        - Master
      responses:
      ####################################################
      # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message
      ####################################################
        '201':
          description: Demand Reason(s) created sucessfully.
          schema:
            $ref: '#/definitions/DemandReasonResponse'
        '400':
          description: Invalid input
          schema:
            $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
            
  /demandreason/{id}/_update:
  ######################################################
  # Will be asynchronous.
  # tenantId should be passed in the model.
  # Validate tenantId before persisting.
  # Unique identifier of the model to be updated should be passed as path parameter. 
  ######################################################
    post:
      description: Updates a demand reason.
      parameters:
        - name: id
          in: path
          description: Primary key for a Demand Reason to be udpated.
          required: true
          type: integer
          format: int64
        - name: demandreason
          in: body
          description: Request header for the demand reason.
          required: true
          schema:
            $ref: '#/definitions/DemandReasonRequest'
        - name: tenantId
          in: query
          description: Unique id for ulb.
          required: true
          type: string
          format: varchar
      tags:
        - Master
      responses:
      ####################################################
      # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message
      ####################################################
        '200':
          description: Update DemandReason(s) successful
          schema:
            $ref: '#/definitions/DemandReasonResponse'
        '400':
          description: Invalid input
          schema:
            $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'

  /installment/_search:
  ######################################################
  # Will be synchronous.
  # tenantId should be passed in query param.
  ######################################################
    post:
      description: Returns a installments
      parameters:
        - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/requestInfo"
        - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/tenantId"
        - name: moduleName
          in: query
          description: Name of the module for which installments to be returned.
          required: true
          type: string
        - name: fromDate
          in: query
          description: Installment start date, here search will happen as Installment start is greater or equal to given fromDate.
          required: false
          type: string
        - name: toDate
          in: query
          description: Installment end date, here search will happen as Installment end is greater or equal to given toDate.
          required: false
          type: string
        - name: description
          in: query
          description: representation of a tax period.
          required: false
          type: string
        - name: installmentType
          in: query
          description: type of installment, its for monthly, querterly, halfyearly or yearly.
          required: false
          type: string
      tags:
        - Master
      responses:
      ####################################################
      # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message
      ####################################################
        '200':
          description: returns a installments.
          schema:
            $ref: '#/definitions/InstallmentResponse'
        '400':
          description: Invalid input
          schema:
            $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
            
  /installment/_create:
  ######################################################
  # Will be asynchronous.
  # tenantId should be passed in the model.
  # Validate tenantId before persisting.
  ######################################################
    post:
      description: Creates a Installment
      parameters:
        - name: installment
          in: body
          description: Request header for the demand reason.
          required: true
          schema:
            $ref: '#/definitions/InstallmentRequest'
        - name: tenantId
          in: query
          description: Unique id for ulb.
          required: true
          type: string
          format: varchar
      tags:
        - Master
      responses:
      ####################################################
      # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message
      ####################################################
        '201':
          description: created Installment(s) successfully.
          schema:
            $ref: '#/definitions/InstallmentResponse'
        '400':
          description: Invalid input
          schema:
            $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
            
  /installment/{id}/_update:
  ######################################################
  # Will be asynchronous.
  # tenantId should be passed in the model.
  # Validate tenantId before persisting.
  # Unique identifier of the model to be updated should be passed as path parameter. 
  ######################################################
    post:
      description: Updates a Installment.
      parameters:
        - name: id
          in: path
          description: Primary key for a installment to be udpated.
          required: true
          type: integer
          format: int64
        - name: installment
          in: body
          description: Request header for the demand reason.
          required: true
          schema:
            $ref: '#/definitions/InstallmentRequest'
        - name: tenantId
          in: query
          description: Unique id for ulb.
          required: true
          type: string
          format: varchar
      tags:
        - Master
      responses:
      ####################################################
      # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message
      ####################################################
        '200':
          description: update a Installment(s) successful.
          schema:
            $ref: '#/definitions/InstallmentResponse'
        '400':
          description: Invalid input
          schema:
            $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
            
  /_search:
  ######################################################
  # Will be synchronous.
  # tenantId should be passed in query param.
  ######################################################
    post:
      description: Returns a demand along with its list of demand details
      parameters:
        - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/requestInfo"
        - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/tenantId"
        - name: demandId
          in: query
          description: Primary key of Demand object.
          required: false
          type: integer
        - name: consumerCode
          in: query
          description: Unique identification provided by business details.
          required: false
          type: string
        - name: businessDetails
          in: query
          description: Billing system details e.g., PropertyTax,Water Charges etc.
          required: false
          type: string
        - name: emailId
          in: query
          description: Email Id of Primary owner of business detail.
          required: false
          type: string
        - name: mobileNumber
          in: query
          description: Mobile number of Primary owner of business detail.
          required: false
          type: string
        - name: paymentInfoReq
          in: query
          description: True the payment info list will be returned. False the payment info list will not be returned.
          default: false
          type: boolean
      tags:
        - Demand
      responses:
      ####################################################
      # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message
      ####################################################
        '200':
          description: returns a demand along with its demand details.
          schema:
            $ref: '#/definitions/DemandResponse'
        '400':
          description: Invalid input
          schema:
            $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
            
  /_create:
  ######################################################
  # Will be asynchronous.
  # tenantId should be passed in the model.
  # Validate tenantId before persisting.
  ######################################################
    post:
      description: Creates a demand along with its list of demand details
      parameters:
        - name: demand
          in: body
          description: Request header for the demand.
          required: true
          schema:
            $ref: '#/definitions/DemandRequest'
        - name: tenantId
          in: query
          description: Unique id for ulb.
          required: true
          type: string
          format: varchar
      tags:
        - Demand
      responses:
      ####################################################
      # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message
      ####################################################
        '201':
          description: Created Demand(s) successfully.
          schema:
            $ref: '#/definitions/DemandResponse'
        '400':
          description: Invalid input
          schema:
            $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
            
  /{id}/_update:
  ######################################################
  # Will be asynchronous.
  # tenantId should be passed in the model.
  # Validate tenantId before persisting.
  # Unique identifier of the model to be updated should be passed as path parameter. 
  ######################################################
    post:
      description: Updates a demand. This only for DCB back update.
      parameters:
        - name: id
          in: path
          description: Primary key for a demand to be udpated.
          required: true
          type: integer
          format: int64
        - name: demand
          in: body
          description: Request header for the demand.
          required: true
          schema:
            $ref: '#/definitions/DemandRequest'
        - name: tenantId
          in: query
          description: Unique id for ulb.
          required: true
          type: string
          format: varchar
      tags:
        - Demand
      responses:
      ####################################################
      # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message
      ####################################################
        '200':
          description: updated a collection amount for demand.
          schema:
            $ref: '#/definitions/DemandResponse'
        '400':
          description: Invalid input
          schema:
            $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
            
  /demanddetail/_search:
  ######################################################
  # Will be synchronous.
  # tenantId should be passed in query param.
  ######################################################
    post:
      description: Returns a demand details
      parameters:
        - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/requestInfo"
        - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/tenantId"
        - name: dmenadId
          in: query
          description: Primary key of Demand object.
          required: false
          type: integer
          format: int64
        - name: reasonCode
          in: query
          description: tax head reason code.
          required: false
          type: string
        - name: period
          in: query
          description: tax period.
          required: false
          type: string
      tags:
        - Demand
      responses:
      ####################################################
      # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message
      ####################################################
        '200':
          description: returns a demand along with its demand details.
          schema:
            $ref: '#/definitions/DemandDetailResponse'
        '400':
          description: Invalid input
          schema:
            $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
            
  /bill/_search:
  ######################################################
  # Will be synchronous.
  # tenantId should be passed in query param.
  ######################################################
    post:
      description: Returns a Bill along with its list of bill details. By default non-history and non-cancelled bills will be returned when no value passed for history or cancelled.
      parameters:
        - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/requestInfo"
        - $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/parameters/tenantId"
        - name: demandId
          in: query
          description: Primary key of Demand object.
          required: false
          type: integer
          format: int64
        - name: billId
          in: query
          description: Primary key of Bill object.
          required: false
          type: integer
          format: int64
        - name: history
          in: query
          description: Y when history bill required, N when non-history bill required.
          required: false
          type: string
        - name: cancelled
          in: query
          description: Y when cancelled bill required, N when non-cancelled bill required.
          required: false
          type: string
        - name: billType
          in: query
          description: Bill type. Auto or manual
          required: false
          type: string
        - name: consumerCode
          in: query
          description: A unique identification for a billing entity.
          required: false
          type: string
      tags:
        - Bill
      responses:
      ####################################################
      # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message
      ####################################################
        '200':
          description: returns a Bill along with its bill details.
          schema:
            $ref: '#/definitions/BillResponse'
        '400':
          description: Invalid input
          schema:
            $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
            
  /bill/_create:
  ######################################################
  # Will be asynchronous.
  # tenantId should be passed in the model.
  # Validate tenantId before persisting.
  ######################################################
    post:
      description: Creates a bill along with its list of bill details
      parameters:
        - name: billInfo
          in: body
          description: Request header for the bill.
          required: true
          schema:
            $ref: '#/definitions/BillRequest'
        - name: tenantId
          in: query
          description: Unique id for ulb.
          required: true
          type: string
          format: varchar
      tags:
        - Bill
      responses:
      ####################################################
      # All errors will be returned with HTTP error code 400 with customized error code and messages. Consumer of the API need to handle 400 with customized error code and message
      ####################################################
        '201':
          description: Created Bill(s) successfully.
          schema:
            $ref: '#/definitions/BillResponse'
        '400':
          description: Invalid input
          schema:
            $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ErrorRes'
            
definitions:
  Demand:
    type: object
    description: A Object which holds the basic info about the revenue assessment for which the demand is generated like module name, consumercode, owner, etc.
    properties:
      id:
        type: integer
        format: int64
        description: primary key of a demand.
      installment:
        $ref: '#/definitions/Installment'
      consumerCode:
        type: string
        description : Unique identification provided by the billing system.
      owner:
        type: string
        description : Primary owner of the business detail.
        maxLength: 100
        minLength: 4
      businessDetails :
        type : string
        description : Billing system details e.g., PropertyTax,Water Charges etc.
        maxLength: 256
        minLength: 4
      demandDetails:
        type: array
        items:
          $ref: '#/definitions/DemandDetails'
      auditDetails:
        $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/AuditDetails"  
      tenantId:
        type: string
        readOnly: true
        description: Unique Identifier of the tenant 
        maxLength: 128
        minLength: 4
    required:
      - installment
      - demandDetails
      - consumerCode
      - businessDetails
      - tenantId
      
  DemandDetails:
    type: object
    description: A object holds a demand and collection values for a tax head and period.
    properties:
      id:
        type: integer
        format: int64
        description: primary key of a demand.
      taxAmount:
        type: number
        format: double
        description: demand amount.
      collectionAmount:
        type: number
        format: double
        default: 0
        description: collection against taxAmount.
      demandReason:
        $ref: '#/definitions/DemandReason'
      auditDetails:
        $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/AuditDetails"
      tenantId:
        type: string
        readOnly: true
        description: Unique Identifier of the tenant 
        maxLength: 128
        minLength: 4
    required:
      - taxAmount
      - collectionAmount
      - demandReason
      - tenantId
      
  ReasonCategory:
    type: object
    description: A object holds a demand reason categories. It gives the type of demand like tax, rebate, penalty, advance, fee etc.
    properties:
      id:
        type: integer
        format: int64
        description: Unique Identifier of the Address
      name:
        type: string
        description: Demand reason name.
        maxLength: 64
        minLength: 2
      code:
        type: string
        description: tax category.
        maxLength: 64
        minLength: 2
      auditDetails:
        $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/AuditDetails"
      tenantId:
        type: string
        readOnly: true
        description: Unique Identifier of the tenant 
        maxLength: 128
        minLength: 4
    required:
      - name
      - code
      - tenantId
  
  DemandReasonMaster:
    type: object
    description: A object holds a demand reasons for each reason category, for example General tax, Edu cess, lib cess for TAX.
    properties:
      id:
        type: integer
        format: int64
        description: primary key of a DemandReasonMaster.
      name:
        type: string
        description: Demand reason name.
        maxLength: 64
        minLength: 2
      code:
        type: string
        description: Demand reason code.
        maxLength: 64
        minLength: 2
      category:
        $ref: '#/definitions/ReasonCategory'
      auditDetails:
        $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/AuditDetails"
      tenantId:
        type: string
        readOnly: true
        description: Unique Identifier of the tenant 
        maxLength: 128
        minLength: 4
    required:
      - name
      - category
      - tenantId
      
  DemandReason:
    type: object
    description: A object holds a 'DemandReasonMaster' for a period.
    properties:
      id:
        type: integer
        format: int64
        description: primary key of a DemandReason.
      installment:
        $ref: '#/definitions/Installment'
      reasonMaster:
        $ref: '#/definitions/DemandReasonMaster'
      glCode:
        type: string
        minLength: 1
        maxLength: 64
        description: A general ledger code for tax head for financial posting.
      auditDetails:
        $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/AuditDetails"
      tenantId:
        type: string
        readOnly: true
        description: Unique Identifier of the tenant 
        maxLength: 128
        minLength: 4
    required:
      - reasonMaster
      - installment
      - glCode
      - tenantId
      
  Installment:
    type: object
    description: A object holds a installment, the tax period.
    properties:
      id:
        type: integer
        format: int64
        description: primary key of a Installment.
      fromDate:
        type: string
        format: date
        description: Start date for tax period
      toDate:
        type: string
        format: date
        description: End date for tax period
      installmentYear:
        type: string
        format: date
        description: Installment Year
      module:
        type: string
        description: Name of the module this period belongs to.
        maxLength: 128
        minLength: 4
      installmentNumber:
        type: integer
        format: int64
        description: Tax period number.
      description:
        type: string
        description: representation of a tax period.
        maxLength: 128
        minLength: 4
      installmentType:
        type: string
        description: type of installment, its for monthly, querterly, halfyearly or yearly.
        enum:
          - MONTH
          - QUARTER
          - HALFYEAR
          - ANNUAL
      financialYear:
        type: string
        description: financial year for which this period belongs.
        maxLength: 64
        minLength: 4
      auditDetails:
        $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/AuditDetails"
      tenantId:
        type: string
        readOnly: true
        description: Unique Identifier of the tenant 
        maxLength: 128
        minLength: 4
    required:
      - fromDate
      - toDate
      - installmentNumber
      - description
      - installmentType
      - tenantId
      
  CollectedReceipts:
    type: object
    description: A object holds a payment information against a demand.
    properties:
      receiptNumber:
        type: string
        description: receipt number.
      receiptAmount:
        type: number
        format: double
        description: receipt amount.
      receiptDate:
        type: string
        format: date
        description: discount against taxAmount.
      status:
        type: string
        description: receipt status
      demandDetail:
        $ref: '#/definitions/DemandDetails'
      auditDetails:
        $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/AuditDetails"
      tenantId:
        type: string
        readOnly: true
        description: Unique Identifier of the tenant 
        maxLength: 128
        minLength: 4
    required:
      - receiptNumber
      - receiptAmount
      - receiptDate
      - tenantId
      
  Bill:
    type: object
    description: A detailed head wise dues which is payable on a Demand.
    properties:
      id:
        type: integer
        format: int64
        description: The unique id of Bill
      demandId:
        type: integer
        format: int64
        description: The unique id of Demand
      citizenName:
        type: string
        minLength: 1
        maxLength: 1024
        description: Name of the citizen
      citizenAddress:
        type: string
        minLength: 1
        maxLength: 1024
        description: Citizen address
      billNumber:
        type: string
        minLength: 1
        maxLength: 20
        description: A unique bill no will be generated by billing system.
      billType:
        type: string
        minLength: 1
        maxLength: 32
        description: Bill type. Auto or manual
      issuedDate:
        type: string
        format: date
        description: Bill generation date.
      lastDate:
        type: string
        format: date
        description: Bill is valid till this date.
      moduleName:
        type: string
        minLength: 1
        maxLength: 100
        description: Name of the module this bill belongs to.
      history:
        type: string
        minLength: 1
        maxLength: 1
        description: Y when history bill, N when non-history bill.
      cancelled:
        type: string
        minLength: 1
        maxLength: 1
        description: Y when bill is cancelled, N when bill is not cancelled.
      fundCode:
        type: string
        minLength: 1
        maxLength: 32
        description: Fund code for financial voucher posting. Code need to be passed
      functionaryCode:
        type: integer
        format: int64
        description: Functionary code for financial voucher posting. Code need to be passed
      fundSourceCode:
        type: string
        minLength: 1
        maxLength: 32
        description: Fund Source code for financial voucher posting. Code need to be passed
      departmentCode:
        type: string
        minLength: 1
        maxLength: 32
        description: Department code this bill belongs to.
      collModesNotAllowed:
        type: string
        minLength: 1
        maxLength: 250
        description: List of not allowed collection modes to not show to end user during collection.
      boundaryNumber:
        type: integer
        format: int32
        description: Boundary number this belongs to.
      boundaryType:
        type: string
        minLength: 1
        maxLength: 32
        description: Type of the boundary for boundary number passed.
      billAmount:
        type: number
        format: double
        description: Total Bill amount. The due amount.
      billAmountCollected:
        type: number
        format: double
        description: Collected amount against this bill.
      serviceCode:
        type: string
        minLength: 1
        maxLength: 32
        description: Every billing system has code defined in eGov collection system, the respective service code.
      partPaymentAllowed:
        type: boolean
        description: True if part payment allowed and False if part payment is not allowed.
      overrideAccHeadAllowed:
        type: boolean
        description: True if account head override allowed and False if account head override is not allowed. This will tells the collection module to allow the collection operator to manually edit the collection against a account head.
      description:
        type: string
        minLength: 1
        maxLength: 250
        description: A brief description of billing consumer code on collection screen and the payment receipt.
      minAmountPayable:
        type: number
        format: double
        description: The minimum amount need to pay for this bill if any otherwise zero.
      consumerCode:
        type: string
        minLength: 1
        maxLength: 64
        description: A unique identification for a billing entity.
      displayMessage:
        type: string
        minLength: 1
        maxLength: 250
        description: A brief info shown on collection screen and the payment receipt.
      callbackForApportion:
        type: boolean
        description: True if call back is required and False if pcall back is not required from collection module to billing module
      emailId:
        type: string
        minLength: 1
        maxLength: 128
        description: Email id of a citizen to communicate his payment made with payment receipt copy.
      consumerType:
        type: string
        minLength: 1
        maxLength: 100
        description: Type of consumer.
      totalAmount:
        type: string
        format: double
        description: Total amount payable.
      billDetailInfos:
        type: array
        items:
          $ref: '#/definitions/BillDetailInfo'
      auditDetails:
        $ref: "https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/AuditDetails"
      tenantId:
        type: string
        readOnly: true
        description: Unique Identifier of the tenant 
        maxLength: 128
        minLength: 4
    required:
      - citizenName
      - citizenAddress
      - billNumber
      - billType
      - issuedDate
      - moduleName
      - fundCode
      - functionaryCode
      - fundSourceCode
      - departmentCode
      - collModesNotAllowed
      - boundaryNumber
      - boundaryType
      - billAmount
      - billAmountCollected
      - serviceCode
      - partPaymentAllowed
      - overrideAccHeadAllowed
      - description
      - minAmountPayable
      - consumerCode
      - displayMessage
      - callbackForApportion
      - emailId
      - consumerType
      - tenantId
      
  BillDetailInfo:
    type: object
    description: Holds the head wise break up of the dues.
    properties:
      billId:
        type: integer
        format: int64
        description: Bill unique ref. id.
      creditAmount:
        type: number
        format: double
        description: The amount to be credited.
      debitAmount:
        type: number
        format: double
        description: The amount to be debited.
      amountCollected:
        type: number
        format: double
        description: Amount collected during payment.
      glCode:
        type: string
        minLength: 1
        maxLength: 64
        description: A general ledger code for this head for financial posting.
      description:
        type: string
        minLength: 1
        maxLength: 128
        description: A brief description of this tax head due.
      purpose:
        type: string
        minLength: 1
        maxLength: 50
        description: purpose.
      period:
        type: string
        minLength: 1
        maxLength: 16
        description: The period this tax head due belongs to.
      orderNo:
        type: integer
        format: int32
        description: order of the bill details in which the payment to be accepted.
      isActualDemand:
        type: number
        format: int32
        description: Flag to tell actual demand or not, the demand can be tax or penalty or reabate. If the demand is a tax then its a actual demand.
      tenantId:
        type: string
        readOnly: true
        description: Unique Identifier of the tenant 
        maxLength: 128
        minLength: 4
    required:
      - billId
      - creditAmount
      - debitAmount
      - glCode
      - description
      - purpose
      - period
      - orderNo
      - isActualDemand
      - tenantId
      
  DemandRequest:
    properties:
      RequestInfo:
        $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/RequestInfo'
      Demand:
        type: array
        minimum: 1
        maximum: 100
        items:
         $ref: '#/definitions/Demand'
    type: object

  DemandResponse:
    properties:
      ResposneInfo:
        $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ResponseInfo'
      Demands:
        type: array
        maximum: 500
        items:
          $ref: '#/definitions/Demand'
    type: object
    
  DemandDetailResponse:
    properties:
      ResposneInfo:
        $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ResponseInfo'
      DemandDetails:
        type: array
        maximum: 500
        items:
          $ref: '#/definitions/DemandDetails'
    type: object
    
  DemandReasonRequest:
    properties:
      RequestInfo:
        $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/RequestInfo'
      DemandReason:
        type: array
        minimum: 1
        maximum: 100
        items:
         $ref: '#/definitions/DemandReason'
    type: object

  DemandReasonResponse:
    properties:
      ResposneInfo:
        $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ResponseInfo'
      DemandReasons:
        type: array
        maximum: 500
        items:
          $ref: '#/definitions/DemandReason'
    type: object
    
  BillRequest:
    properties:
      RequestInfo:
        $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/RequestInfo'
      BillInfos:
        type: array
        minimum: 1
        maximum: 100
        items:
         $ref: '#/definitions/Bill'
    type: object

  BillResponse:
    properties:
      ResposneInfo:
        $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ResponseInfo'
      BillInfos:
        type: array
        maximum: 500
        items:
          $ref: '#/definitions/Bill'
    type: object
    
  InstallmentRequest:
    properties:
      RequestInfo:
        $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/RequestInfo'
      Installment:
        type: array
        minimum: 1
        maximum: 100
        items:
         $ref: '#/definitions/Installment'
    type: object

  InstallmentResponse:
    properties:
      ResposneInfo:
        $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/master/docs/common/contracts/v1-0-0.yml#/definitions/ResponseInfo'
      Installments:
        type: array
        maximum: 500
        items:
          $ref: '#/definitions/Installment'
    type: object
    
  Error:
    type: object
    properties:
      code:
        type: integer
        format: int32
      message:
        type: string
      description:
        type: string
      filelds:
        type: object
    required:
      - code
      - message

