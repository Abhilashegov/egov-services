serviceMaps:
 serviceName: Solid Waste Management Service
 mappings:
 - version: 1.0
   name: vehicleFuellingDetails create
   description: create vehicleFuellingDetails in egswm_vehiclefuellingdetails
   fromTopic: swm-vehiclefuellingdetails-save-topic
   queryMaps: 
    - query: INSERT INTO egswm_vehiclefuellingdetails( tenantid, transactionno, transactiondate, vehicle, vehiclereadingduringfuelling, refuellingstation, fuelfilled, typeoffuel, totalcostincurred, receiptno, receiptdate, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
      basePath: $.vehicleFuellingDetails.*
      jsonMaps:
       
       - jsonPath: $.vehicleFuellingDetails.*.tenantId
         
       - jsonPath: $.vehicleFuellingDetails.*.transactionNo
         
       - jsonPath: $.vehicleFuellingDetails.*.transactionDate
         dbType: LONG

       - jsonPath: $.vehicleFuellingDetails.*.vehicle.regNumber
       
       - jsonPath: $.vehicleFuellingDetails.*.vehicleReadingDuringFuelling
         dbType: LONG

       - jsonPath: $.vehicleFuellingDetails.*.refuellingStation.name

       - jsonPath: $.vehicleFuellingDetails.*.fuelFilled
         dbType: DOUBLE

       - jsonPath: $.vehicleFuellingDetails.*.typeOfFuel.code

       - jsonPath: $.vehicleFuellingDetails.*.totalCostIncurred
         dbType: DOUBLE

       - jsonPath: $.vehicleFuellingDetails.*.receiptNo

       - jsonPath: $.vehicleFuellingDetails.*.receiptDate
         dbType: LONG

       - jsonPath: $.vehicleFuellingDetails.*.auditDetails.createdBy

       - jsonPath: $.vehicleFuellingDetails.*.auditDetails.lastModifiedBy

       - jsonPath: $.vehicleFuellingDetails.*.auditDetails.createdTime
         dbType: LONG

       - jsonPath: $.vehicleFuellingDetails.*.auditDetails.lastModifiedTime
         dbType: LONG

    - query: INSERT INTO egswm_document(id, tenantid, refCode, fileStoreId, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?);
      basePath: $.vehicleFuellingDetails.*.receiptCopy
      jsonMaps:
       
       - jsonPath: $.vehicleFuellingDetails.*.receiptCopy.id

       - jsonPath: $.vehicleFuellingDetails.*.receiptCopy.tenantId
         
       - jsonPath: $.vehicleFuellingDetails.*.receiptCopy.refCode

       - jsonPath: $.vehicleFuellingDetails.*.receiptCopy.fileStoreId

       - jsonPath: $.vehicleFuellingDetails.*.receiptCopy.auditDetails.createdBy

       - jsonPath: $.vehicleFuellingDetails.*.receiptCopy.auditDetails.lastModifiedBy

       - jsonPath: $.vehicleFuellingDetails.*.receiptCopy.auditDetails.createdTime
         dbType: LONG

       - jsonPath: $.vehicleFuellingDetails.*.receiptCopy.auditDetails.lastModifiedTime
         dbType: LONG

 - version: 1.0
   name: vehicleFuellingDetails update
   description: update vehicleFuellingDetails in egswm_vehiclefuellingdetails
   fromTopic: swm-vehiclefuellingdetails-update-topic
   queryMaps: 

    - query: UPDATE egswm_vehiclefuellingdetails SET transactiondate=?,vehicle=?,vehiclereadingduringfuelling=?, refuellingstation=?,fuelfilled=?,typeoffuel=?,totalcostincurred=?,receiptno=?,receiptdate=?,lastmodifiedby=?,lastmodifiedtime=? WHERE transactionno=? AND tenantid=?;
      basePath: $.vehicleFuellingDetails.*
      jsonMaps:

       - jsonPath: $.vehicleFuellingDetails.*.transactionDate
         dbType: LONG

       - jsonPath: $.vehicleFuellingDetails.*.vehicle.regNumber
       
       - jsonPath: $.vehicleFuellingDetails.*.vehicleReadingDuringFuelling
         dbType: LONG

       - jsonPath: $.vehicleFuellingDetails.*.refuellingStation.name

       - jsonPath: $.vehicleFuellingDetails.*.fuelFilled
         dbType: DOUBLE

       - jsonPath: $.vehicleFuellingDetails.*.typeOfFuel.code

       - jsonPath: $.vehicleFuellingDetails.*.totalCostIncurred
         dbType: DOUBLE

       - jsonPath: $.vehicleFuellingDetails.*.receiptNo

       - jsonPath: $.vehicleFuellingDetails.*.receiptDate
         dbType: LONG

       - jsonPath: $.vehicleFuellingDetails.*.auditDetails.lastModifiedBy

       - jsonPath: $.vehicleFuellingDetails.*.auditDetails.lastModifiedTime
         dbType: LONG
         
       - jsonPath: $.vehicleFuellingDetails.*.transactionNo

       - jsonPath: $.vehicleFuellingDetails.*.tenantId

    - query: INSERT INTO egswm_document(id, tenantid, refCode, fileStoreId, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?);
      basePath: $.vehicleFuellingDetails.*.receiptCopy
      jsonMaps:
       
       - jsonPath: $.vehicleFuellingDetails.*.receiptCopy.id

       - jsonPath: $.vehicleFuellingDetails.*.receiptCopy.tenantId
         
       - jsonPath: $.vehicleFuellingDetails.*.receiptCopy.refCode

       - jsonPath: $.vehicleFuellingDetails.*.receiptCopy.fileStoreId

       - jsonPath: $.vehicleFuellingDetails.*.receiptCopy.auditDetails.createdBy

       - jsonPath: $.vehicleFuellingDetails.*.receiptCopy.auditDetails.lastModifiedBy

       - jsonPath: $.vehicleFuellingDetails.*.receiptCopy.auditDetails.createdTime
         dbType: LONG

       - jsonPath: $.vehicleFuellingDetails.*.receiptCopy.auditDetails.lastModifiedTime
         dbType: LONG

 - version: 1.0
   name: vehicle create
   description: create vehicle in egswm_vehicle
   fromTopic: swm-vehicle-save-topic
   queryMaps: 
    - query: INSERT INTO egswm_vehicle(tenantid, vehicletype, fueltype, regnumber, enginesrnumber, chassissrnumber, vehiclecapacity, operatorsReq, model, vendor, driver, purchasedate, price, sourceofpurchase, remarks, insurancenumber, insurancevaliditydate, kilometers, endOfWarranty, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
      basePath: $.vehicles.*
      jsonMaps:
       
       - jsonPath: $.vehicles.*.tenantId
         
       - jsonPath: $.vehicles.*.vehicleType.code

       - jsonPath: $.vehicles.*.fuelType.code
         
       - jsonPath: $.vehicles.*.regNumber

       - jsonPath: $.vehicles.*.manufacturingDetails.engineSrNumber
         
       - jsonPath: $.vehicles.*.manufacturingDetails.chassisSrNumber
       
       - jsonPath: $.vehicles.*.manufacturingDetails.vehicleCapacity
         dbType: DOUBLE

       - jsonPath: $.vehicles.*.operatorsReq

       - jsonPath: $.vehicles.*.manufacturingDetails.model

       - jsonPath: $.vehicles.*.vendor.name

       - jsonPath: $.vehicles.*.driver.code

       - jsonPath: $.vehicles.*.purchaseInfo.purchaseDate
         dbType: LONG

       - jsonPath: $.vehicles.*.purchaseInfo.price
         dbType: DOUBLE

       - jsonPath: $.vehicles.*.purchaseInfo.sourceOfPurchase

       - jsonPath: $.vehicles.*.remarks

       - jsonPath: $.vehicles.*.insuranceDetails.insuranceNumber

       - jsonPath: $.vehicles.*.insuranceDetails.insuranceValidityDate
         dbType: LONG

       - jsonPath: $.vehicles.*.kilometers
         dbType: LONG

       - jsonPath: $.vehicles.*.endOfWarranty
         dbType: LONG

       - jsonPath: $.vehicles.*.auditDetails.createdBy

       - jsonPath: $.vehicles.*.auditDetails.lastModifiedBy

       - jsonPath: $.vehicles.*.auditDetails.createdTime
         dbType: LONG

       - jsonPath: $.vehicles.*.auditDetails.lastModifiedTime
         dbType: LONG

    - query: INSERT INTO egswm_document(id, tenantid, refCode, fileStoreId, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?);
      basePath: $.vehicles.*.insuranceDetails.insuranceDocument
      jsonMaps:
       
       - jsonPath: $.vehicles.*.insuranceDetails.insuranceDocument.id

       - jsonPath: $.vehicles.*.insuranceDetails.insuranceDocument.tenantId
         
       - jsonPath: $.vehicles.*.insuranceDetails.insuranceDocument.refCode

       - jsonPath: $.vehicles.*.insuranceDetails.insuranceDocument.fileStoreId

       - jsonPath: $.vehicles.*.insuranceDetails.insuranceDocument.auditDetails.createdBy

       - jsonPath: $.vehicles.*.insuranceDetails.insuranceDocument.auditDetails.lastModifiedBy

       - jsonPath: $.vehicles.*.insuranceDetails.insuranceDocument.auditDetails.createdTime
         dbType: LONG

       - jsonPath: $.vehicles.*.insuranceDetails.insuranceDocument.auditDetails.lastModifiedTime
         dbType: LONG

 - version: 1.0
   name: vehicle update
   description: update vehicle in egswm_vehicle
   fromTopic: swm-vehicle-update-topic
   queryMaps: 

    - query: UPDATE egswm_vehicle SET vehicletype=?, fueltype=?, enginesrnumber=?, chassissrnumber=?, vehiclecapacity=?, operatorsReq=?, model=?, vendor=?, driver=?, purchasedate=?, price=?, sourceofpurchase=?, remarks=?, insurancenumber=?, insurancevaliditydate=?, kilometers=?, endOfWarranty=?, lastmodifiedby=?, lastmodifiedtime=? WHERE regnumber=? AND tenantid=?;
      basePath: $.vehicles.*
      jsonMaps:

       - jsonPath: $.vehicles.*.vehicleType.code

       - jsonPath: $.vehicles.*.fuelType.code
         
       - jsonPath: $.vehicles.*.manufacturingDetails.engineSrNumber
         
       - jsonPath: $.vehicles.*.manufacturingDetails.chassisSrNumber
       
       - jsonPath: $.vehicles.*.manufacturingDetails.vehicleCapacity
         dbType: DOUBLE

       - jsonPath: $.vehicles.*.operatorsReq

       - jsonPath: $.vehicles.*.manufacturingDetails.model

       - jsonPath: $.vehicles.*.vendor.name

       - jsonPath: $.vehicles.*.driver.code

       - jsonPath: $.vehicles.*.purchaseInfo.purchaseDate
         dbType: LONG

       - jsonPath: $.vehicles.*.purchaseInfo.price
         dbType: DOUBLE

       - jsonPath: $.vehicles.*.purchaseInfo.sourceOfPurchase

       - jsonPath: $.vehicles.*.remarks

       - jsonPath: $.vehicles.*.insuranceDetails.insuranceNumber

       - jsonPath: $.vehicles.*.insuranceDetails.insuranceValidityDate
         dbType: LONG

       - jsonPath: $.vehicles.*.kilometers
         dbType: LONG

       - jsonPath: $.vehicles.*.endOfWarranty
         dbType: LONG

       - jsonPath: $.vehicles.*.auditDetails.lastModifiedBy

       - jsonPath: $.vehicles.*.auditDetails.lastModifiedTime
         dbType: LONG
         
       - jsonPath: $.vehicles.*.regNumber

       - jsonPath: $.vehicles.*.tenantId


    - query: INSERT INTO egswm_document(id, tenantid, refCode, fileStoreId, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?);
      basePath: $.vehicles.*.insuranceDetails.insuranceDocument
      jsonMaps:
       
       - jsonPath: $.vehicles.*.insuranceDetails.insuranceDocument.id

       - jsonPath: $.vehicles.*.insuranceDetails.insuranceDocument.tenantId
         
       - jsonPath: $.vehicles.*.insuranceDetails.insuranceDocument.refCode

       - jsonPath: $.vehicles.*.insuranceDetails.insuranceDocument.fileStoreId

       - jsonPath: $.vehicles.*.insuranceDetails.insuranceDocument.auditDetails.createdBy

       - jsonPath: $.vehicles.*.insuranceDetails.insuranceDocument.auditDetails.lastModifiedBy

       - jsonPath: $.vehicles.*.insuranceDetails.insuranceDocument.auditDetails.createdTime
         dbType: LONG

       - jsonPath: $.vehicles.*.insuranceDetails.insuranceDocument.auditDetails.lastModifiedTime
         dbType: LONG


 - version: 1.0
   name: collectionpoint create
   description: create collectionpoint in egswm_collectionpoint
   fromTopic: swm-collectionpoint-save-topic
   queryMaps: 
    - query: INSERT INTO egswm_collectionpoint(code, tenantid, name, location, latitude, longitude, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
      basePath: $.collectionPoints.*
      jsonMaps:
       
       - jsonPath: $.collectionPoints.*.code

       - jsonPath: $.collectionPoints.*.tenantId
         
       - jsonPath: $.collectionPoints.*.name

       - jsonPath: $.collectionPoints.*.location.code

       - jsonPath: $.collectionPoints.*.latitude
         dbType: DOUBLE

       - jsonPath: $.collectionPoints.*.longitude
         dbType: DOUBLE
       
       - jsonPath: $.collectionPoints.*.auditDetails.createdBy

       - jsonPath: $.collectionPoints.*.auditDetails.lastModifiedBy

       - jsonPath: $.collectionPoints.*.auditDetails.createdTime
         dbType: LONG

       - jsonPath: $.collectionPoints.*.auditDetails.lastModifiedTime
         dbType: LONG

    - query: INSERT INTO egswm_bindetails(id, tenantid, collectionpoint, assetorbinid, rfidassigned, rfid) VALUES (?, ?, ?, ?, ?, ?);
      basePath: $.collectionPoints.*.binDetails.*
      jsonMaps:
       
       - jsonPath: $.collectionPoints.*.binDetails.*.id

       - jsonPath: $.collectionPoints.*.binDetails.*.tenantId
         
       - jsonPath: $.collectionPoints[?({id} in @.binDetails[*].id)].code

       - jsonPath: $.collectionPoints.*.binDetails.*.assetOrBinId
         
       - jsonPath: $.collectionPoints.*.binDetails.*.rfidAssigned
         dbType: BOOLEAN

       - jsonPath: $.collectionPoints.*.binDetails.*.rfid


    - query: INSERT INTO egswm_collectionpointdetails(id, tenantid, collectionType, collectionPoint, garbageEstimate, description, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
      basePath: $.collectionPoints.*.collectionPointDetails.*
      jsonMaps:
       
       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.id

       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.tenantId
         
       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.collectionType.code

       - jsonPath: $.collectionPoints[?({id} in @.collectionPointDetails[*].id)].code
         
       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.garbageEstimate
         dbType: DOUBLE

       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.description
         
       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.auditDetails.createdBy

       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.auditDetails.lastModifiedBy

       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.auditDetails.createdTime
         dbType: LONG

       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.auditDetails.lastModifiedTime
         dbType: LONG


 - version: 1.0
   name: collectionpoint update
   description: update collectionpoint in egswm_vehicle
   fromTopic: swm-collectionpoint-update-topic
   queryMaps: 

    - query: UPDATE egswm_collectionpoint SET name=?, location=?, latitude=?, longitude=?, lastmodifiedby=?, lastmodifiedtime=? WHERE code=? AND tenantid=?;
      basePath: $.collectionPoints.*
      jsonMaps:

       - jsonPath: $.collectionPoints.*.name

       - jsonPath: $.collectionPoints.*.location.code
         
       - jsonPath: $.collectionPoints.*.latitude
         dbType: DOUBLE

       - jsonPath: $.collectionPoints.*.longitude
         dbType: DOUBLE
         
       - jsonPath: $.collectionPoints.*.auditDetails.lastModifiedBy

       - jsonPath: $.collectionPoints.*.auditDetails.lastModifiedTime
         dbType: LONG
         
       - jsonPath: $.collectionPoints.*.code

       - jsonPath: $.collectionPoints.*.tenantId

    - query: INSERT INTO egswm_bindetails(id, tenantid, collectionpoint, assetorbinid, rfidassigned, rfid) VALUES (?, ?, ?, ?, ?, ?);
      basePath: $.collectionPoints.*.binDetails.*
      jsonMaps:
       
       - jsonPath: $.collectionPoints.*.binDetails.*.id

       - jsonPath: $.collectionPoints.*.binDetails.*.tenantId
         
       - jsonPath: $.collectionPoints[?({id} in @.binDetails[*].id)].code

       - jsonPath: $.collectionPoints.*.binDetails.*.assetOrBinId
         
       - jsonPath: $.collectionPoints.*.binDetails.*.rfidAssigned
         dbType: BOOLEAN

       - jsonPath: $.collectionPoints.*.binDetails.*.rfid


    - query: INSERT INTO egswm_collectionpointdetails(id, tenantid, collectionType, collectionPoint, garbageEstimate, description, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
      basePath: $.collectionPoints.*.collectionPointDetails.*
      jsonMaps:
       
       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.id

       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.tenantId
         
       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.collectionType.code

       - jsonPath: $.collectionPoints[?({id} in @.collectionPointDetails[*].id)].code
         
       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.garbageEstimate
         dbType: DOUBLE

       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.description
         
       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.auditDetails.createdBy

       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.auditDetails.lastModifiedBy

       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.auditDetails.createdTime
         dbType: LONG

       - jsonPath: $.collectionPoints.*.collectionPointDetails.*.auditDetails.lastModifiedTime
         dbType: LONG

 - version: 1.0
   name: route create
   description: create route in egswm_route
   fromTopic: swm-route-save-topic
   queryMaps: 
    - query: INSERT INTO egswm_route(code, tenantid, name,startingCollectionPoint, endingCollectionPoint, endingDumpingGroundPoint, distance, garbageEstimate, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
      basePath: $.routes.*
      jsonMaps:
       
       - jsonPath: $.routes.*.code

       - jsonPath: $.routes.*.tenantId

       - jsonPath: $.routes.*.name
         
       - jsonPath: $.routes.*.startingCollectionPoint.code

       - jsonPath: $.routes.*.endingCollectionPoint.code

       - jsonPath: $.routes.*.endingDumpingGroundPoint.code

       - jsonPath: $.routes.*.distance
         dbType: DOUBLE
         
       - jsonPath: $.routes.*.garbageEstimate
         dbType: DOUBLE

       - jsonPath: $.routes.*.auditDetails.createdBy

       - jsonPath: $.routes.*.auditDetails.lastModifiedBy

       - jsonPath: $.routes.*.auditDetails.createdTime
         dbType: LONG

       - jsonPath: $.routes.*.auditDetails.lastModifiedTime
         dbType: LONG


 - version: 1.0
   name: route update
   description: update route in egswm_route
   fromTopic: swm-route-update-topic
   queryMaps: 

    - query: UPDATE egswm_route SET name=?, startingCollectionPoint=?, endingCollectionPoint=?, endingDumpingGroundPoint=?, distance=?, garbageEstimate=?, lastmodifiedby=?, lastmodifiedtime=? WHERE id=? AND tenantid=?;
      basePath: $.routes.*
      jsonMaps:

       - jsonPath: $.routes.*.name

       - jsonPath: $.routes.*.startingCollectionPoint.code

       - jsonPath: $.routes.*.endingCollectionPoint.code

       - jsonPath: $.routes.*.endingDumpingGroundPoint.code

       - jsonPath: $.routes.*.distance
         dbType: DOUBLE
         
       - jsonPath: $.routes.*.garbageEstimate
         dbType: DOUBLE
         
       - jsonPath: $.routes.*.auditDetails.lastModifiedBy

       - jsonPath: $.routes.*.auditDetails.lastModifiedTime
         dbType: LONG
         
       - jsonPath: $.routes.*.id

       - jsonPath: $.routes.*.tenantId


 - version: 1.0
   name: route collection point map create
   description: create route collection point map  in egswm_routecollectionpointmap 
   fromTopic: swm-route-collectionpoint-map-save-topic
   queryMaps: 
    - query: INSERT INTO egswm_routecollectionpointmap(tenantid, route, collectionPoint, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?);
      basePath: $.routeCollectionPointMaps.*
      jsonMaps:
       
       - jsonPath: $.routeCollectionPointMaps.*.tenantId
         
       - jsonPath: $.routeCollectionPointMaps.*.route

       - jsonPath: $.routeCollectionPointMaps.*.collectionPoint

       - jsonPath: $.routeCollectionPointMaps.*.auditDetails.createdBy

       - jsonPath: $.routeCollectionPointMaps.*.auditDetails.lastModifiedBy

       - jsonPath: $.routeCollectionPointMaps.*.auditDetails.createdTime
         dbType: LONG

       - jsonPath: $.routeCollectionPointMaps.*.auditDetails.lastModifiedTime
         dbType: LONG
